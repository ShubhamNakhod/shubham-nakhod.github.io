<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Shubham Nakhod — ML Engineer</title>
<meta name="description" content="Shubham Nakhod — Machine Learning Engineer (Agentic AI, MLOps, Applied ML).">
<link rel="icon" href="favicon.ico">
<style>
  /* ---------- THEME TOKENS ---------- */
  :root{
    --bg:#f6f8fc; --pane:#ffffff; --ink:#0f172a; --muted:#5b6577; --line:#e6eaf0;
    --brand:#1f6feb; --brand2:#16a085; --chip:#eef4ff; --chip-brd:#dbe7ff; --chip-ink:#1e3a8a;
    --shadow:0 10px 28px rgba(16,24,40,.06);
    --sideW:270px; --max:1180px;
  }
  html[data-theme="dark"]{
    --bg:#0b1220; --pane:#0f172a; --ink:#e7ebf4; --muted:#99a4b3; --line:#1a2742;
    --brand:#86b0ff; --brand2:#22c9a5; --chip:#132341; --chip-brd:#243a60; --chip-ink:#c7d2fe;
    --shadow:0 14px 28px rgba(0,0,0,.30);
  }

  /* ---------- BASE ---------- */
  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--ink);line-height:1.75}
  a{color:var(--brand);text-decoration:none}
  a:hover{text-decoration:underline}
  h1,h2,h3{margin:0}
  .muted{color:var(--muted)}
  .wrap{display:grid;grid-template-columns:var(--sideW) 1fr;min-height:100vh}
  @media (max-width:980px){.wrap{grid-template-columns:1fr}}

  /* ---------- SIDEBAR ---------- */
  aside{
    position:sticky;top:0;height:100vh;display:flex;flex-direction:column;align-items:center;gap:10px;
    padding:22px 16px;border-right:1px solid var(--line);background:var(--pane);
  }
  @media (max-width:980px){aside{position:static;height:auto;border-right:none;border-bottom:1px solid var(--line)}}
  .avatar{width:96px;height:96px;border-radius:50%;overflow:hidden;border:3px solid var(--line);background:#fff}
  .avatar img{width:100%;height:100%;object-fit:cover;object-position:center 12%}
  .who{font-weight:900;margin-top:8px}
  .role{margin-top:-4px;font-size:.95rem;color:var(--muted)}
  .social{display:flex;gap:10px;margin:10px 0 8px 0}
  .chip{background:var(--chip);border:1px solid var(--chip-brd);color:var(--chip-ink);border-radius:999px;padding:.28rem .65rem;font-size:.88rem;font-weight:800}
  html[data-theme="dark"] .chip{color:var(--chip-ink)}
  .nav{width:100%;display:grid;gap:6px;margin-top:8px}
  .nav a{display:block;color:inherit;text-decoration:none;padding:10px 12px;border-radius:10px;border:1px solid transparent;font-weight:700}
  .nav a:hover,.nav a.active{border-color:var(--line);background:rgba(127,127,127,.06)}
  .side-actions{display:flex;gap:8px;margin-top:6px}
  .toggle{border:1px solid var(--line);background:transparent;color:inherit;border-radius:10px;padding:.4rem .6rem;font-weight:800;cursor:pointer}
  .side-footer{margin-top:auto;font-size:.85rem;color:var(--muted)}

  /* ---------- MAIN + SECTIONS ---------- */
  main{max-width:var(--max);margin:0 auto}
  section{padding:26px 20px}
  .card{background:var(--pane);border:1px solid var(--line);border-radius:14px;box-shadow:var(--shadow);padding:20px}

  /* ---------- HERO ---------- */
  .hero{padding:0;border-bottom:1px solid var(--line)}
  .hero-wrap{
    min-height:72vh;display:flex;align-items:center;
    background:
      radial-gradient(1200px 520px at 10% 10%, rgba(31,111,235,.12), transparent 60%),
      radial-gradient(1200px 520px at 90% 90%, rgba(22,160,133,.12), transparent 60%),
      url('hero.jpg') center/cover no-repeat;
    position:relative;
  }
  .hero::after{
    content:"";position:absolute;inset:0;background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(0,0,0,.20));
    pointer-events:none;
  }
  .hero-inner{position:relative;padding:44px 22px}
  .hero-box{max-width:760px;background:rgba(255,255,255,.92);border:1px solid var(--line);border-radius:14px;box-shadow:var(--shadow);padding:22px}
  html[data-theme="dark"] .hero-box{background:rgba(15,23,42,.75)}
  .hero h1{font-size:clamp(28px,4vw,44px);letter-spacing:.2px}
  .tagline{display:block;font-size:1.05rem;line-height:1.6;color:var(--muted);font-weight:500;margin:8px 0 14px 0;min-height:2.2em;transition:opacity .25s ease}
  .badges{display:flex;gap:8px;flex-wrap:wrap;margin:6px 0 16px 0}
  .badge{background:var(--chip);border:1px solid var(--chip-brd);color:var(--chip-ink);padding:.2rem .6rem;border-radius:999px;font-weight:800;font-size:.86rem}
  .cta{display:flex;gap:10px;flex-wrap:wrap}
  .btn{display:inline-block;border:1px solid var(--line);background:var(--pane);color:inherit;border-radius:10px;padding:.55rem .9rem;font-weight:800;text-decoration:none;box-shadow:var(--shadow)}
  .btn.primary{background:var(--brand);border-color:var(--brand);color:#fff}
  .btn:hover{text-decoration:none;filter:brightness(1.03)}

  /* ---------- ABOUT ---------- */
  .about{display:grid;grid-template-columns:300px 1fr;gap:18px}
  @media (max-width:860px){.about{grid-template-columns:1fr}}
  .about img{width:100%;border-radius:12px;border:1px solid var(--line);object-fit:cover;object-position:center 12%}
  .grid-pairs{display:grid;gap:6px;margin-top:8px}
  .grid-pairs b{color:var(--ink)}
  .grid-pairs a{font-weight:800}

  /* ---------- TIMELINE ---------- */
  .timeline{display:grid;gap:12px}
  .node{border:1px solid var(--line);border-radius:12px;padding:12px;background:var(--pane)}
  .node h3{margin:.1rem 0}
  details summary{cursor:pointer;font-weight:700}
  details[open] summary{color:var(--brand)}

  /* ---------- SKILLS ---------- */
  .skills{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px}
  .s-card{border:1px solid var(--line);border-radius:12px;background:var(--pane);padding:14px}
  .skill{margin:10px 0}
  .skill .label{display:flex;justify-content:space-between;font-weight:800}
  .bar{height:12px;background:rgba(127,127,127,.12);border:1px solid var(--line);border-radius:999px;overflow:hidden}
  .fill{height:100%;background:linear-gradient(90deg,var(--brand),var(--brand2));width:0%}

  /* ---------- PROJECTS ---------- */
  .filters{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
  .pill{background:var(--chip);border:1px solid var(--chip-brd);color:var(--chip-ink);border-radius:999px;padding:.3rem .75rem;font-weight:800;cursor:pointer}
  .pill.active{outline:2px solid var(--brand);outline-offset:2px}
  .grid{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}
  .proj{border:1px solid var(--line);border-radius:12px;background:var(--pane);display:flex;flex-direction:column;overflow:hidden}
  .thumb{aspect-ratio:16/9;background:#e9eef8;width:100%;object-fit:cover}
  html[data-theme="dark"] .thumb{background:#0f1a2c}
  .pbody{padding:14px;display:flex;gap:.45rem;flex-direction:column}
  .pbody h3{font-size:1.04rem;margin:.1rem 0}
  .meta{font-size:.9rem;color:var(--muted)}
  .open{margin-top:auto}
  .open a{font-weight:800}

  /* ---------- ACHIEVEMENTS ---------- */
  .badgelist{display:flex;gap:8px;flex-wrap:wrap}
  .mini{background:var(--chip);border:1px solid var(--chip-brd);color:var(--chip-ink);border-radius:999px;padding:.2rem .6rem;font-size:.85rem;font-weight:800}

  /* ---------- CONTACT ---------- */
  .contact-card{display:grid;grid-template-columns:1fr 1fr;gap:16px}
  @media (max-width:720px){.contact-card{grid-template-columns:1fr}}
  .contact-block{border:1px solid var(--line);border-radius:12px;padding:14px;background:var(--pane)}
  .contact-block a{font-weight:800}

  /* ---------- FLOATING RESUME ---------- */
  .floating-resume{
    position:fixed;right:18px;bottom:18px;z-index:60;
    border:1px solid var(--line);background:var(--brand);color:#fff;
    border-radius:999px;padding:.65rem 1rem;font-weight:900;text-decoration:none;box-shadow:var(--shadow);
  }
  .floating-resume:hover{text-decoration:none;filter:brightness(1.03)}

  /* ---------- FOCUS ---------- */
  :focus-visible{outline:2px solid var(--brand);outline-offset:2px;border-radius:8px}
</style>
</head>
<body>

<div class="wrap">

  <!-- ===== SIDEBAR ===== -->
  <aside>
    <div class="avatar"><img src="Photo.png" alt="Shubham Nakhod"></div>
    <div class="who">Shubham Nakhod</div>
    <div class="role">Machine Learning Engineer</div>

    <div class="social">
      <a class="chip" href="mailto:shubnakhod29@gmail.com">Email</a>
      <a class="chip" href="https://github.com/ShubhamNakhod" target="_blank" rel="noopener">GitHub</a>
      <a class="chip" href="https://www.linkedin.com/in/shubham-nakhod-926914195/" target="_blank" rel="noopener">LinkedIn</a>
    </div>

    <nav id="nav" class="nav" aria-label="Sections">
      <a href="#home" class="active">Home</a>
      <a href="#about">About</a>
      <a href="#timeline">Timeline</a>
      <a href="#skills">Skills</a>
      <a href="#projects">Projects</a>
      <a href="#achievements">Achievements</a>
      <a href="#contact">Contact</a>
    </nav>

    <div class="side-actions">
      <button id="themeToggle" class="toggle" type="button">Dark mode</button>
    </div>

    <div class="side-footer">© <span id="yr"></span></div>
  </aside>

  <!-- ===== MAIN ===== -->
  <main>

    <!-- HERO -->
    <section id="home" class="hero">
      <div class="hero-wrap">
        <div class="hero-inner">
          <div class="hero-box">
            <h1>Shubham Nakhod</h1>
            <span id="tagline" class="tagline">Building production-ready ML systems</span>
            <div class="badges">
              <span class="badge">Agentic AI</span>
              <span class="badge">MLOps</span>
              <span class="badge">Applied ML</span>
            </div>
            <div class="cta">
              <a class="btn primary" href="resume.pdf" target="_blank" rel="noopener">Download Resume</a>
              <a class="btn" href="#projects">View Projects</a>
              <a class="btn" href="https://github.com/ShubhamNakhod" target="_blank" rel="noopener">GitHub</a>
              <a class="btn" href="https://www.linkedin.com/in/shubham-nakhod-926914195/" target="_blank" rel="noopener">LinkedIn</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <div class="card about">
        <img src="Photo.png" alt="Portrait of Shubham" loading="lazy">
        <div>
          <h2>About Me</h2>
          <p class="muted">
            Master’s student in Information Science (ML/AI) at the University of Arizona. I build reliable, production ML:
            FastAPI services, agentic explainers, CI/CD, and monitoring. Previously in risk/markets across HSBC,
            Goldman Sachs (via Deloitte), and Credit Suisse.
          </p>
          <div class="grid-pairs">
            <div><b>Location:</b> Tucson, AZ</div>
            <div><b>Email:</b> <a href="mailto:shubnakhod29@gmail.com">shubnakhod29@gmail.com</a></div>
            <div><b>Phone:</b> <a href="tel:+15203880345">+1-520-388-0345</a></div>
            <div><b>Links:</b> <a href="https://github.com/ShubhamNakhod" target="_blank" rel="noopener">GitHub</a> ·
              <a href="https://www.linkedin.com/in/shubham-nakhod-926914195/" target="_blank" rel="noopener">LinkedIn</a></div>
          </div>
        </div>
      </div>
    </section>

    <!-- TIMELINE -->
    <section id="timeline">
      <div class="card">
        <h2>Timeline</h2>
        <div class="timeline" style="margin-top:10px">
          <div class="node">
            <details open>
              <summary>University of Arizona — M.S. Information Science (ML/AI) · Expected Dec 2025 · GPA 3.8/4.0</summary>
              <p class="muted">Coursework: Machine Learning, Deep Learning, Data Mining, MLOps, Distributed Systems.</p>
            </details>
          </div>
          <div class="node">
            <details>
              <summary>HSBC — Traded Risk Analyst · Krakow · Apr 2023 – Aug 2023</summary>
              <p class="muted">Automated monitoring with Python/SQL (−90% false alerts). Built stress-test pipelines.</p>
            </details>
          </div>
          <div class="node">
            <details>
              <summary>Goldman Sachs (via Deloitte) — Equities Support Analyst · Warsaw · 2022–2023</summary>
              <p class="muted">Automated P&L reconciliation (~30% faster). Supported pricing & risk data pipelines.</p>
            </details>
          </div>
          <div class="node">
            <details>
              <summary>Credit Suisse — Analyst, Data & Trade Support · Wroclaw · 2021–2022</summary>
              <p class="muted">Python reconciliation scripts (98% match). Improved booking & reporting pipelines.</p>
            </details>
          </div>
          <div class="node">
            <details>
              <summary>University of Mumbai — B.S. Financial Markets · 2016–2019 · GPA 7.6/10</summary>
            </details>
          </div>
        </div>
      </div>
    </section>

    <!-- SKILLS -->
    <section id="skills">
      <div class="card">
        <h2>Skills</h2>
        <div class="skills" style="margin-top:10px">
          <div class="s-card">
            <h3>Core ML / DS</h3>
            <div class="skill"><div class="label"><span>Python</span><span>95%</span></div><div class="bar"><div class="fill" style="--pct:95%"></div></div></div>
            <div class="skill"><div class="label"><span>Scikit-learn</span><span>90%</span></div><div class="bar"><div class="fill" style="--pct:90%"></div></div></div>
            <div class="skill"><div class="label"><span>SQL</span><span>85%</span></div><div class="bar"><div class="fill" style="--pct:85%"></div></div></div>
          </div>
          <div class="s-card">
            <h3>Deep Learning</h3>
            <div class="skill"><div class="label"><span>PyTorch</span><span>90%</span></div><div class="bar"><div class="fill" style="--pct:90%"></div></div></div>
            <div class="skill"><div class="label"><span>TensorFlow</span><span>70%</span></div><div class="bar"><div class="fill" style="--pct:70%"></div></div></div>
            <div class="skill"><div class="label"><span>Hugging Face</span><span>80%</span></div><div class="bar"><div class="fill" style="--pct:80%"></div></div></div>
          </div>
          <div class="s-card">
            <h3>LLMs & Agents</h3>
            <div class="skill"><div class="label"><span>LangChain / Agents</span><span>85%</span></div><div class="bar"><div class="fill" style="--pct:85%"></div></div></div>
            <div class="skill"><div class="label"><span>Retrieval & Vector DBs</span><span>80%</span></div><div class="bar"><div class="fill" style="--pct:80%"></div></div></div>
          </div>
          <div class="s-card">
            <h3>MLOps</h3>
            <div class="skill"><div class="label"><span>FastAPI / Docker</span><span>90%</span></div><div class="bar"><div class="fill" style="--pct:90%"></div></div></div>
            <div class="skill"><div class="label"><span>CI/CD (GitHub Actions)</span><span>85%</span></div><div class="bar"><div class="fill" style="--pct:85%"></div></div></div>
            <div class="skill"><div class="label"><span>MLflow / Monitoring</span><span>80%</span></div><div class="bar"><div class="fill" style="--pct:80%"></div></div></div>
          </div>
          <div class="s-card">
            <h3>Cloud</h3>
            <div class="skill"><div class="label"><span>AWS SageMaker</span><span>70%</span></div><div class="bar"><div class="fill" style="--pct:70%"></div></div></div>
            <div class="skill"><div class="label"><span>GCP Vertex AI</span><span>70%</span></div><div class="bar"><div class="fill" style="--pct:70%"></div></div></div>
          </div>
          <div class="s-card">
            <h3>Engineering</h3>
            <div class="skill"><div class="label"><span>DSA</span><span>80%</span></div><div class="bar"><div class="fill" style="--pct:80%"></div></div></div>
            <div class="skill"><div class="label"><span>System Design</span><span>65%</span></div><div class="bar"><div class="fill" style="--pct:65%"></div></div></div>
          </div>
        </div>
      </div>
    </section>

    <!-- PROJECTS -->
    <section id="projects">
      <div class="card">
        <h2>Projects</h2>

        <div class="filters" id="filters" style="margin-top:10px">
          <button class="pill active" data-filter="all" type="button">All</button>
          <button class="pill" data-filter="ml" type="button">ML</button>
          <button class="pill" data-filter="trading" type="button">Trading</button>
          <button class="pill" data-filter="mlops" type="button">MLOps</button>
        </div>

        <div class="grid" id="grid">
          <article class="proj" data-tags="ml mlops">
            <img class="thumb" src="fraud.png" alt="Fraud explainer" onerror="this.style.display='none'">
            <div class="pbody">
              <h3>Agentic Fraud Explanation Service</h3>
              <div class="meta">FastAPI + XGBoost + LangChain + SHAP · P95 &lt; 300ms</div>
              <p>Explains flagged transactions in plain English with SHAP drivers; CI/CD & monitoring.</p>
              <div class="open"><a href="https://github.com/ShubhamNakhod" target="_blank" rel="noopener">Open repo →</a></div>
            </div>
          </article>

          <article class="proj" data-tags="trading ml">
            <img class="thumb" src="lob.png" alt="LOB simulator" onerror="this.style.display='none'">
            <div class="pbody">
              <h3>Limit-Order-Book Simulator + Market-Making Strategy</h3>
              <div class="meta">LOB engine · Rule-based MM · Dashboard</div>
              <p>Price–time priority LOB, inventory skew, P&L tracking, interactive analytics.</p>
              <div class="open"><a href="https://github.com/ShubhamNakhod/Limit-Order-Book-Simulator-Market-Making-Strategy" target="_blank" rel="noopener">Open repo →</a></div>
            </div>
          </article>

          <article class="proj" data-tags="trading">
            <img class="thumb" src="kelly.png" alt="Kelly simulator" onerror="this.style.display='none'">
            <div class="pbody">
              <h3>Kelly-Criterion Betting Simulator</h3>
              <div class="meta">Monte Carlo · Drawdowns · Risk of Ruin</div>
              <p>Bankroll dynamics with optimal bet sizing and distributional outcomes.</p>
              <div class="open"><a href="https://github.com/ShubhamNakhod/Kelly-Criterion-Betting-Simulator" target="_blank" rel="noopener">Open repo →</a></div>
            </div>
          </article>

          <article class="proj" data-tags="ml">
            <img class="thumb" src="gbm.png" alt="GBM sim" onerror="this.style.display='none'">
            <div class="pbody">
              <h3>Monte Carlo Stock Price Simulation</h3>
              <div class="meta">1k GBM paths · yfinance</div>
              <p>Probabilistic outcomes for S&P 500; quick scenario testing.</p>
              <div class="open"><a href="https://github.com/ShubhamNakhod/Monte_Carlo_Simulation_for_Stock_Price_Prediction" target="_blank" rel="noopener">Open repo →</a></div>
            </div>
          </article>

          <article class="proj" data-tags="ml">
            <img class="thumb" src="markov.png" alt="Markov" onerror="this.style.display='none'">
            <div class="pbody">
              <h3>Stock-Market via Markov Chains</h3>
              <div class="meta">Regime dynamics · Transition matrices</div>
              <p>Regime switching model to explore state probabilities and transitions.</p>
              <div class="open"><a href="https://github.com/ShubhamNakhod/Simulating-Stock-Market-Markov-Chain" target="_blank" rel="noopener">Open repo →</a></div>
            </div>
          </article>

          <article class="proj" data-tags="ml">
            <img class="thumb" src="frontier.png" alt="Frontier" onerror="this.style.display='none'">
            <div class="pbody">
              <h3>Efficient Frontier</h3>
              <div class="meta">10k portfolios · Risk vs return</div>
              <p>Portfolio sampler to visualize frontier and trade-offs.</p>
              <div class="open"><a href="https://github.com/ShubhamNakhod/Portfolio-Risk-vs.-Expected-Return" target="_blank" rel="noopener">Open repo →</a></div>
            </div>
          </article>

          <article class="proj" data-tags="ml mlops">
            <img class="thumb" src="loan.png" alt="Loan defaults" onerror="this.style.display='none'">
            <div class="pbody">
              <h3>Predicting Loan Defaults</h3>
              <div class="meta">End-to-end credit risk classification</div>
              <p>Feature engineering, model comparison, evaluation; deployable pipeline.</p>
              <div class="open"><a href="https://github.com/ShubhamNakhod/Predicting-Loan-Defaults-with-Machine-Learning-" target="_blank" rel="noopener">Open repo →</a></div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- ACHIEVEMENTS -->
    <section id="achievements">
      <div class="card">
        <h2>Achievements</h2>
        <p class="badgelist" style="margin-top:8px">
          <span class="mini">120+ DSA problems</span>
          <span class="mini">4 prod-grade ML apps</span>
          <span class="mini">P95 300ms fraud API</span>
          <span class="mini">UA ML Showcase 2025</span>
        </p>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact">
      <div class="card contact-card">
        <div class="contact-block">
          <h3>Get in touch</h3>
          <p><b>Email:</b> <a href="mailto:shubnakhod29@gmail.com">shubnakhod29@gmail.com</a></p>
          <p><b>Phone:</b> <a href="tel:+15203880345">+1-520-388-0345</a></p>
          <p><b>Location:</b> Tucson, AZ</p>
        </div>
        <div class="contact-block">
          <h3>Profiles</h3>
          <p><b>GitHub:</b> <a href="https://github.com/ShubhamNakhod" target="_blank" rel="noopener">github.com/ShubhamNakhod</a></p>
          <p><b>LinkedIn:</b> <a href="https://www.linkedin.com/in/shubham-nakhod-926914195/" target="_blank" rel="noopener">linkedin.com/in/shubham-nakhod-926914195</a></p>
          <p><a class="btn" href="resume.pdf" target="_blank" rel="noopener">Download Resume</a></p>
        </div>
      </div>
    </section>

    <footer style="text-align:center;color:var(--muted);padding:20px">© <span id="yr2"></span> Shubham Nakhod</footer>
  </main>
</div>

<!-- Floating resume button -->
<a class="floating-resume" href="resume.pdf" target="_blank" rel="noopener" aria-label="Download resume">Resume</a>

<script>
  // Year stamps
  const y = new Date().getFullYear(); document.getElementById('yr').textContent = y; document.getElementById('yr2').textContent = y;

  // Theme toggle with persistence
  const root = document.documentElement;
  const toggle = document.getElementById('themeToggle');
  const saved = localStorage.getItem('theme');
  if(saved){ root.setAttribute('data-theme', saved); toggle.textContent = saved === 'dark' ? 'Light mode' : 'Dark mode'; }
  toggle.addEventListener('click', ()=>{
    const next = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
    root.setAttribute('data-theme', next);
    localStorage.setItem('theme', next);
    toggle.textContent = next === 'dark' ? 'Light mode' : 'Dark mode';
  });

  // Tagline fade rotator (full text, no clipping)
  (function(){
    const el = document.getElementById('tagline');
    const lines = [
      'Building production-ready ML systems',
      'Fast APIs · Explainable agents · Reliable pipelines',
      'Agentic AI · MLOps · Applied ML'
    ];
    let i = 0;
    function cycle(){
      el.style.opacity = 0;
      setTimeout(()=>{
        el.textContent = lines[i];
        el.style.opacity = 1;
        i = (i + 1) % lines.length;
        setTimeout(cycle, 2800);
      }, 220);
    }
    cycle();
  })();

  // Sidebar active link on scroll
  const links = [...document.querySelectorAll('#nav a')];
  const targets = links.map(a => document.querySelector(a.getAttribute('href')));
  const io = new IntersectionObserver(entries=>{
    entries.forEach(e=>{
      if(e.isIntersecting){
        links.forEach(l=>l.classList.remove('active'));
        const idx = targets.indexOf(e.target);
        if(idx>-1) links[idx].classList.add('active');
      }
    })
  }, {rootMargin:"-45% 0px -50% 0px", threshold:0});
  targets.forEach(s=>s && io.observe(s));

  // Animate skills bars when visible
  const fills = document.querySelectorAll('.fill');
  const io2 = new IntersectionObserver(es=>{
    es.forEach(e=>{
      if(e.isIntersecting){
        const f = e.target.querySelector('.fill'); if(!f) return;
        const pct = f.style.getPropertyValue('--pct') || '0%';
        f.animate([{width:'0%'},{width:pct}], {duration:900,fill:'forwards',easing:'ease-out'});
        io2.unobserve(e.target);
      }
    })
  }, {threshold:.4});
  document.querySelectorAll('.skill').forEach(s=>io2.observe(s));

  // Project filters
  const pills = document.querySelectorAll('.pill[data-filter]');
  const cards = document.querySelectorAll('#grid .proj');
  pills.forEach(p=>p.addEventListener('click', ()=>{
    pills.forEach(x=>x.classList.remove('active')); p.classList.add('active');
    const f = p.dataset.filter;
    cards.forEach(c=>{
      const tags = (c.dataset.tags||'').split(' ');
      c.style.display = (f==='all' || tags.includes(f)) ? '' : 'none';
    });
    location.hash = '#projects';
  }));
</script>
</body>
</html>
